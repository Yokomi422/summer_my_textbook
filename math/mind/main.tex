\documentclass{jlreq}

\usepackage{titlesec}
\usepackage{listings}
\usepackage{fancyhdr}

% \adjustbox
\usepackage{adjustbox}

% tcolorboxの設定
\usepackage[most]{tcolorbox} 
\tcbuselibrary{breakable}
\tcbuselibrary{skins}
\tcbuselibrary{listingsutf8}
% タイトルのフォーマットを変更
\titleformat{\title}
  {\centering\Huge\bfseries}
  {}
  {0em} 
  {}

\titleformat{\subtitle}
  {\centering\Large\itshape}
  {}
  {0em}
  {}

\titleformat{\subsubsection}[block]
  {\normalfont\normalsize\bfseries}
  {\arabic{subsubsection}.}
  {1em}
  {}

\titleformat{\section}[block]
  {\normalfont\large\bfseries}
  {\Roman{section}.}
  {1em} 
  {}
  [\titleline{\titlerule[1pt]}]

\titleformat{\subsection}[block]
  {\normalfont\normalsize\bfseries}
  {\roman{subsection}.}
  {1em}
  {}

% listingsの設定

\renewcommand{\lstlistingname}{コード}

\lstset{
	breaklines = true,
	language = Python,
	keywordstyle = {\bfseries \color[cmyk]{0,1,0,0}},
	commentstyle = {\itshape \color[cmyk]{1,0.4,1,0}},
	numbers = left,
	numberstyle = \tiny,
	stepnumber = 1,
	% frameとnumberの間の距離
	numbersep = 10pt,
	frame = single,
	basicstyle = \ttfamily,
	tabsize = 2,
	captionpos = t,
	backgroundcolor={\color[gray]{.90}},
	showstringspaces = false,
}

% headerの設定
\pagestyle{fancy}
\fancyhf{}

\fancyhead[RO,RE]{\rightmark}
\fancyhead[LO,LE]{\leftmark} 
\fancyfoot[C]{\thepage}

% tikzの設定
\usepackage{tikz}

\begin{document}
\section{はじめに}
\subsection{数学の学習}
数学の学習段階は以下の3つの段階がある。

\begin{enumerate}
    \item 数学用語・記号の定義と、それが表す概念(意味)をを学ぶ
    \item 学んだ定義に関する定理とその証明を理解する
    \item 証明した定義を使って問題を解く
\end{enumerate}

上であげた学習の3段階は高校でも、大学でも変わらない。しかし、高校の学習ではどうしても3の問題を解く
段階が重視されている。大学入試の合格という大きな目標があるため仕方ない。そのため、高校までは
数学用語の定義の理解や定理とその証明に関しては、あまり力を入れて学習してこなかった人も多いだろう。

しかし、大学以降の数学の教科書は主に1と2を扱う。

\subsection{数学書の構成}
数学書は体系を作り上げている。数学書では議論の出発点として最初に証明なしで認める基本的な事実を挙げる。これを\textbf{公理}という。数学書では、
公理と定義を出発点にしてこれらに関する定理を証明していく形を取る。このように、公理と定義をもとに
次々と定理を証明していく様子は以下のように図で表すことができる。

\begin{figure}[htbp]
    \begin{center}
        \begin{tikzpicture}[scale=0.5]
            \draw(0,0) ellipse (2 and 1);
            \node at (0,0) {定理};
            \draw(-6,0) ellipse (2 and 1);
            \node at (-6,0) {定理};
            \draw(6,0) ellipse (2 and 1);
            \node at (6,0) {定理};

            \node[draw, rectangle, minimum width=2cm, minimum height=1cm, rounded corners = 3mm] at (-8, -5) {定義};
            \draw(1,-5.5) ellipse (2 and 1);
            \node at (1,-5.5) {定理};
            \draw(6,-5.5) ellipse (2 and 1);
            \node at (6,-5.5) {定理};

            \node[draw, rectangle, minimum width=2cm, minimum height=1cm] at (-6, -10) {公理};
            \node[draw, rectangle, minimum width=2cm, minimum height=1cm] at (0, -10) {公理};
            \node[draw, rectangle, minimum width=2cm, minimum height=1cm, rounded corners = 3mm] at (6, -10) {定義};



            % 線を引く
            \draw (-8, -4) -- (-6, -1);
            \draw (1, -4.5) -- (-6, -1);
            \draw (1, -4.5) -- (0, -1);
            \draw (6, -4.5) -- (0, -1);
            \draw (6, -4.5) -- (6, -1);
            \draw (0, -9) -- (-6.5, -6);
            \draw (-6, -9) -- (1, -6.5);
            \draw (6, -9) -- (6.2, -6.45);
        \end{tikzpicture}
    \end{center}
    \caption{数学書の構成}
\end{figure}

図1のようなつながり全体を\textbf{体系}と呼ぶ。数学書を読むときは、この体系を意識して読むことが大切である。

\subsection{定理・命題・補題・系}
数学書には定理以外にも、命題、補題、系などが登場する。これらの違いを明らかにしておく。

\subsubsection{命題}
命題とは、正しくないか正しいかが数学的にはっきり定まる文のことである。命題は真か偽かのどちらかである。例えば、以下の2つの文は命題である。

\begin{itemize}
    \item 1は素数である
    \item 1は奇数である
\end{itemize}

命題の内容が正しいとき、その命題は\textbf{真}であるといい、正しくないときは\textbf{偽}であるという。
上の例では、1は素数でないので、1は素数であるという命題は偽である。2は奇数であるので、2は奇数であるという命題は真である。

数学の命題は、断言する文である。そのため、ただ断言しているだけではその命題の内容が数学的に正しいかはわからない。
証明されて初めてその命題の内容が正しいことがわかる。

\subsubsection{定理}
定理とは、命題のうち、証明された命題のことである。定理は真である。定理は、公理や定義、他の定理を用いて証明される。
定理は数学書の体系を作り上げる上で必要な命題であるので、しっかり理解することが大切である。

\subsubsection{系と補題}
系とは、証明した命題や定理を使えばすぐに得られる新たな命題のことをいう。また、ある命題を証明するために
補助として使う命題のことを補題という。

\subsection{数学書を読むときの注意点}
\subsubsection{地の文は注意して読む}
数学書には定義や命題など見出しをつけた別立ての部分がたくさんある。だから、数学書を読む経験が浅い人は別立ての部分ばかりに集中してしまい、
別立てではない地の文を軽く読み飛ばしてしまいがちだ。しかし、地の文にも重要な情報が書かれていることがあるので、地の文も注意して読むことが大切である。

地の文は「なぜそのようなことを考えるのか」を説明する動機づけやが書かれていることもある。動機付けを理解することで、その後の議論が理解しやすくなるため、地の文も注意して読むことが大切である。

\subsubsection{定義は頻繁に使われる}
図1で示したように数学書は定義を出発点に議論が進んでいく。今までの学習では定義の理解をあまり重視してこなかったかもしれないが、大学以降の数学書では定義を頻繁に使っている。そのため、定義を理解しておくことが大切である。
定義を紙に書くなどして頭に染み込ませることが重要である。

\subsubsection{詰まったときの処方箋}
数学書では、「定義 $\rightarrow$ 定理 $\rightarrow$ 証明」という流れで体系を築き上げていく。この体系は過去の数学者たちが問題を解決する過程で考え出した概念の定義や
発見した定理を整理して並べたものである。そのため、定義や定理の背景には、「こういう問題を解きたい」という問題意識がある。しかし、すでに出来上がった体系をこれから学ぶ我々に、それと同じ気持ちはない。定義や定理を見ても、「なぜこのような概念を考えるのか」
「この定理を証明すると何が良いのか」という意味がわからないことが多い。

では、どうすればいいか。まずは、\textbf{定義や定理の前後にある地の文から動機を探す}のが１つのやり方である。次に、
\textbf{章や節など大きなまとまりをざっと通しで読む}のもいいやり方である。定義や概念は実際に使われているところを見ると
理解が深まる。通して読む範囲としては、わからなくなった部分を含む章や節などが標準的である。数学書は全体で
体系を作り上げていくが、1つの章や節には全体の体系の一部である「小さな体系」が書かれていることが多い。

ざっと理解するには目次や前書きが助けになる。目次に並んでいる章や項目は、そこに何が書かれているかを一言で
まとめたものである。だから目次を見ると、体系全体の地図を見ることができる。「なぜこんなことを考えるか」
という疑問はこのように解決しよう。

一方で、扱っている内容の抽象度が高いという理解の阻害要因もある。高校までの数学では、具体的な式で表せられる対象の扱い方を学ぶ。
例えば、関数であれば$a x^2 + b x + c$という2次関数や$\sin x$や$\cos x$といった具体的に式で表現できる対象を扱ってきた。しかし、大学以降では例えば「$n$回微分可能な関数$f(x)$はどのような性質を持っているか」を考える。$f(x)$がどのような関数であるかは
決めずに「$n$回微分可能な関数」という抽象的な性質を持った関数を一般的に考えている。

数学書を読む中で、抽象的な議論で理解ができなかったら、具体例を考えることが大切である。例えば、$n$回微分可能な関数$f(x)$がどのような関数であるかを考えるとき、$n=1$の場合を考えると具体的に$f(x)$がどのような関数であるかがわかる。この具体例を考えることで、一般的な議論を理解しやすくなる。
数学書の中に具体例が書かれていたら、絶好の機会だと思って読み込んで見ることが重要である。ただ、大学以降の数学書では定義を頻繁に使っている
１つ具体例を考えるのも難しいことが多い。その場合はもちろん自分で時間をかけて考えることも大切であるが、他の参考書やネットで具体例を探すのも
有効である。

\newpage
\begin{tcolorbox}[enhanced, title=コラム 数学書で数学を学ぶ意義, breakable, colback=white, drop fuzzy shadow, attach boxed title to top center={yshift*=0.1cm}]
  初めて本格的な数学書を読んだとき、多くの人がその難解さに圧倒されることだろう。「定義 $\rightarrow$ 定理 $\rightarrow$ 証明」の嵐に打ちひしがれてしまうかもしれない。
  大学で単位を取るためだけなら確かに数学書をじっくり読む必要はおそらくなく、問題演習を中心に学習することで十分だろう。しかし、数学書を読むことには大きな意義がある。

  それは、「自分の中に正しい根拠を持つ」ことである。数学を使うものの中には、定理を支えればいいと考えている人もいるかもしれない。しかし、学習の目標の1つは道具として使えるかだけにとどまらず
  なぜ正しいのか、それを自分なりに理解することではないだろうか。方法だけを学ぶのでは、何かを学んだという実感も持てないはずだ。
\end{tcolorbox}

\newpage

\section{数学と論理}
この章では、「でない」、「かつ」、「または」、「ならば」などの論理記号を使って数学的な命題を表す方法を学ぶ。これらは日常生活でも
使う用語であるが、数学の論理を書き表すときには少し違った意味を持つ。この章で学ぶことは、数学の論理を理解するための基礎である。


\subsection{「\~{}でない」}
日常語の「\~{}でない」との違いは、数学の「\~{}でない」では2回「\~{}でない」は使うと肯定を意味することである。

\begin{itemize}
  \item あの人は一番になるのを望んでいる。
  \item あの人は一番になるのを望んでいないことはない。
\end{itemize}

日常語では上の2つの文は違うという印象を得るだろう。しかし数学では上の2つの文は同じ意味である。
数学らしい例を出すと例えば、「$m$は偶数ではない、ではない」という文があったら、これは「$m$は偶数である」と同じである。

また、ある命題が真であるときその否定は偽である。例えば、「2は偶数である」は真であるが、その否定である「2は偶数ではない」は偽である。逆に
偽の命題の否定は真である。数学では原則として、命題は真か偽かのどちらかである。

\subsection{「かつ」と「または」}
まず、「かつ」は日常語と同じく「$P$かつ$Q$である」といえば「$P$と$Q$の両方が成り立つ」という意味である。$P, Q$は命題である。
次に、「または」日常語と意味が異なってくるので注意が必要だ。数学では「$P$または$Q$である」といえば「$P$か$Q$の少なくとも一方は成り立つ」という意味である。
少なくとも一方とは、片方だけでもいいし、両方でもいい。日常語ではどちらか1つしか成り立たないようにかんじるかもしれないが、数学では両方成り立つ場合も含まれる。

「かつ」と「または」の否定も考えてみよう。まずは「かつ」の否定を考える。「$P$かつ$Q$である」の否定は「$P$でない、または、$Q$でない」というと同じである。
例えば、「$m$は偶数かつ素数である」の否定は「$m$は偶数でない、または、$m$は素数でない」となる。
次に「または」の否定を考える。「$P$または$Q$である」の否定は「$P$でなく、かつ、$Q$でない」というと同じである。
例えば、「$m$は偶数かつ素数である」の否定は「$m$は偶数でない、または、$m$は素数でない」となる。

ここでは、「かつ」と「または」の否定は「かつ」が「または」に、また「または」が「かつ」に変わることに注意してほしい。そして「かつ」や「または」で
繋がれている命題も否定されていることに注意する。

\subsection{「ならば」}
「ならば」は数学用語の中でも難しいので、しっかり理解しておきたい。まず、「$P$ならば$Q$」が正しくても、「$P$である。」が真であるとは限らない。
例えば、「$n$が偶数ならば〇〇が成り立つ。」とあっても$n$が偶数かはわからない。もし$n$が偶数だったら〇〇が成り立つといっているだけで、$n$が偶数かは別の
話である。

次に、裏と逆の扱いについて注意する。「$P$ならば$Q$である。」という命題に対して、「$P$でないならば、$Q$ではない。」という命題を\textbf{裏}といい、
「$Q$ならば$P$である。」という命題を\textbf{逆}という。ある命題が真であるからといって、その逆や裏が真であるとは限らない。例えば、
「$a = 1$ならば$a^2 = 1$である」という命題が正しくても、その逆である「$a=1$でないならば、$a^2 \neq 1$」とは限らない。また、裏である「$a \neq 1$ならば$a^2 \neq 1$である」とも限らない。
textbf{もとの命題とその裏や逆は無関係である}と覚えておこう。

\subsection{対偶}
「$P$ならば$Q$である。」という命題に対して、「$Q$でないならば$P$でない。」という命題を\textbf{対偶}という。
重要なのは、\textbf{もとの命題とその対偶は真偽が一致する}ということである。

\begin{tcolorbox}[enhanced, title=コラム 前件否定の誤謬と後件否定の誤謬, breakable, colback=white, drop fuzzy shadow, attach boxed title to top center={yshift*=0.1cm}]
\end{tcolorbox}

\newpage

\section{数学書の読み方}
この章では、実際の定義や定理を見ながら数学書の読み方を体感していく。

\begin{tcolorbox}[enhanced,title=定義1 約数と倍数, 
  attach boxed title to top left, 
  colback=white!95!blue,
  colbacktitle=white!10!blue!50!black,
  drop fuzzy shadow,
  boxrule=0.25mm,
  ]
  $a$を整数、$b$を$0$でない整数とする。$a = bq$を満たす整数$q$が存在するとき、$b$は$a$の\textbf{約数}であるという。また、$a$が$b$の約数であるとき、$b$は$a$の\textbf{倍数}であるといい、
  $b | a$と書く。
\end{tcolorbox}

\end{document}

